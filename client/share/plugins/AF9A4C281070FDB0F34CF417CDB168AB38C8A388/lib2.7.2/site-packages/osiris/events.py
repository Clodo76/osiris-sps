import osiris
import weakcallback

class Delegate(osiris.IEventCallback):
	def __init__(self, callback): 
		osiris.IEventCallback.__init__(self)
		self.callback = weakcallback.WeakCallback(callback)
	
	def invoke(self, args):
		self.callback(args)

def delegate(callback):	
	return Delegate(callback)
	
def connect(event, callback):
	return event.connect(delegate(callback))
